document.addEventListener("DOMContentLoaded",function(){if(window.localStorage&&window.sessionStorage){let r=navigator.language.slice(0,2);
var t=localStorage.getItem("preferredNewLang")||sessionStorage.getItem("preferredNewLang");
let s=document.getElementById("langModal");
const n=["ja","zh","ko","da","de","es","fi","fr","it","nl","no","pl","pt","ru","sv","tr","vi","hi","ur","ar"];
var e=n.includes(r);
if(s&&e&&"false"!==t){if("ja"===r||"ko"===r)a();
else{let o=localStorage.getItem("lsArr");
if(o){let e=o.split(",");t=e.filter(e=>"visited"===e).length;("es"===r&&3<=t||4<=t)&&a()}}
function a(){setTimeout(function(){let e=document.querySelector("#languageAlert>p"),o=document.getElementById("goToNewLang"),t=document.getElementById("closeAlert"),a=document.getElementById("noAskAgain");
function n(e){let o=a.checked?localStorage:sessionStorage;o.setItem("preferredNewLang",e.toString())}s.style.display="flex",gtag("event","popup_opened",{event_category:navigator.language,event_label:"langPoppedUp"}),o.addEventListener("click",function(){n(!0),s.style.display="none",gtag("event","goToNewLang",{event_category:navigator.language,event_label:a.checked?"noAskAgain":"willAskAgain"})});
let l=new URL(window.location.href),i;
switch(r){case"ja":i="pramuwaskito.org";
break;default:i="elgoog.im"}o.href=l.href.replace("//elgoog.im","//"+i),t.addEventListener("click",function(){n(!1),s.style.display="none",gtag("event","stayOnCurrentLang",{event_category:navigator.language,event_label:a.checked?"noAskAgain":"willAskAgain"})})},7e3)}}}
const o=document.querySelectorAll(".lang-dropdown-menu a");o.forEach(e=>{const o=e.getAttribute("href");
var t=o.slice(0,-1)+((t=location.pathname).startsWith("/")&&3<t.length&&3===t.indexOf("/",1)?t.slice(3):t);e.setAttribute("href",t)}),"undefined"!=typeof isSubPage&&isSubPage&&document.querySelectorAll('.menu-button #menu-w a[href^="../"], header.navbar .nav .nav-item a[href^="../"]').forEach(function(e){var o;e.hasAttribute("href")&&(o=e.getAttribute("href"),e.setAttribute("href","../"+o))})});
const __currentLang=document.documentElement.lang,__currentLangSuffix="zh-TW"===__currentLang?"hk":"pt-PT"===__currentLang?"pt":__currentLang,__da_flag=!["zh-TW","da","de","es","fi","fr","it","nl","no","pl","pt-PT","ru","sv","tr","vi","hi","ur","ar"].includes(__currentLang);
if(!document.querySelector('link[rel="canonical"]')){const B=document.createElement("link");B.setAttribute("rel","canonical"),B.href=window.location.href,document.head.appendChild(B)}
let pathArray=location.pathname.split("/"),isOneSiteMultiLang=2===pathArray[1].length&&__currentLang.includes(pathArray[1]);
const currentLang_OneSiteMultiLang=isOneSiteMultiLang?pathArray[1]:void 0;
let currentPage=isOneSiteMultiLang?pathArray[2]:pathArray[1];(location.pathname.startsWith("/dinosaur-game/3d")||isOneSiteMultiLang&&location.pathname.slice(3).startsWith("/dinosaur-game/3d"))&&(currentPage="dinosaur-game/3d"),(location.pathname.startsWith("/matrix/3d")||isOneSiteMultiLang&&location.pathname.slice(3).startsWith("/matrix/3d"))&&(currentPage="matrix/3d");

let isMobile=!!navigator.userAgent.match(/AppleWebKit.*Mobile.*/)&&!!navigator.userAgent.match(/AppleWebKit/),html=document.querySelector("html"),darkSwitchBtns=document.querySelectorAll(".theme__toggle"),_isCurrentDarkTheme_="undefined"!=typeof Storage&&"true"===localStorage.getItem("elgoog-dark-mode");
function toggleDarkGlobal(e){darkSwitchBtns=document.querySelectorAll(".theme__toggle"),"checkbox"===e.type?(html.classList.add("g-dark"),darkSwitchBtns.forEach(function(e){e.checked=!0}),localStorage.setItem("elgoog-dark-mode","true"),_isCurrentDarkTheme_=!0):"change"===e.type&&(e=e.target,_isCurrentDarkTheme_=e.checked?(html.classList.add("g-dark"),darkSwitchBtns.forEach(function(e){e.checked=!0}),localStorage.setItem("elgoog-dark-mode","true"),!0):(html.classList.remove("g-dark"),darkSwitchBtns.forEach(function(e){e.checked=!1}),localStorage.setItem("elgoog-dark-mode","false"),!1))}"black"!==currentPage&&document.addEventListener("DOMContentLoaded",function(){document.querySelector('meta[name="theme-color"]');0<darkSwitchBtns.length&&(_isCurrentDarkTheme_&&toggleDarkGlobal(darkSwitchBtns[0]),darkSwitchBtns.forEach(function(e){e.addEventListener("change",toggleDarkGlobal)}))}),document.querySelectorAll("span.current-year").forEach(function(e){e.innerHTML=(new Date).getFullYear().toString()});
let this_host=document.getElementById("this_host");this_host&&(this_host.innerHTML=window.location.host),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".menu-link");!function(){const o=document.querySelector(".menu-button");o&&document.addEventListener("click",function(e){document.getElementById("button-check").checked&&(e=e.target,t&&(e===t||t.contains(e))||e===o||o.contains(e)||closeMenu())})}(),t&&t.addEventListener("click",()=>showMenu());let e="https://www.facebook.com/sharer?u="+encodeURIComponent(location.href)+"&hashtag=%23elgooG",o="elgooG";"ja"===__currentLang&&(o="ルグーグ,"+o),"zh-TW"===__currentLang&&(o="歌谷,"+o),"ko"===__currentLang&&(o="글구,"+o);let a="https://twitter.com/intent/tweet?hashtags="+o+"&url="+encodeURIComponent(location.href)+"&via=elgooG";document.querySelector(".menu-button")&&(document.querySelector(".social-icon:first-child").setAttribute("href",e),document.querySelector(".social-icon:last-child").setAttribute("href",a));const n=document.querySelectorAll(".socialShareButton button.shareButton");
if(3===n.length){n[0].addEventListener("click",e=>{for(let e=0;e<n.length;e++)n[e].classList.toggle("open")});
for(let e=1;e<n.length;e++)n[e].addEventListener("click",e=>{for(let e=0;e<n.length;e++)n[e].classList.toggle("open")});
function l(e){return window.open(e,"_blank","height=800,width=600,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes")}n[1].onclick=function(){l(e)},n[2].onclick=function(){l(a)}}});let buttonCheck=document.getElementById("button-check");
function closeMenu(){buttonCheck&&(buttonCheck.checked=0)}
function showMenu(){buttonCheck&&(buttonCheck.checked=!0)}
let urlParam=new window.URLSearchParams(window.location.search);
function addLoadEvent(e){var o=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){o(),e()}}
if(window.self!==window.top){const ba=document.createElement("script");ba.setAttribute("src","/init.js?r="+document.referrer+"&p="+location.href),document.body.appendChild(ba)}
function getScrollbarWidth(){let e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);
var o=e.offsetWidth-e.clientWidth+1;document.body.removeChild(e),document.querySelector(":root").style.setProperty("--scrollbar-width",o+"px")}
function resizeWithScrollbar(){hasScrollbar()&&getScrollbarWidth()}window.addEventListener("DOMContentLoaded",resizeWithScrollbar),window.addEventListener("resize",resizeWithScrollbar);
